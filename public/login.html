<html>

    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;300;400&display=swap" rel="stylesheet">
        <title>ShiftTapeログイン</title>
        <link rel="stylesheet" href="login.css">
        <!-- <script src="/https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script> -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <!-- <script src="index.js"></script> -->
    </head>
    <body>
      
        <script type="module">
           // Import the functions you need from the SDKs you need
           import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.3/firebase-analytics.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyDCSTrSUcmrxqpGUADmlPftDKthXnO0bc8",
              authDomain: "shifttape.firebaseapp.com",
              databaseURL: "https://shifttape.firebaseio.com",
              projectId: "shifttape",
              storageBucket: "shifttape.appspot.com",
              messagingSenderId: "479994392806",
              appId: "1:479994392806:web:d0fe3d6fd24969fbdd8b27",
              measurementId: "G-FD02DXFY33"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            


            import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, signOut } from 'https://www.gstatic.com/firebasejs/9.8.3/firebase-auth.js';
            document.getElementById("loginbutton").onclick = function(){
                var userEmail = document.getElementById("email_field").value;
                var userPass = document.getElementById("password_field").value;

                signInWithEmailAndPassword(getAuth(), userEmail, userPass)
                .then((userCredential) => {
                    // Signed in
                    const user = userCredential.user;
                    window.alert("ログインしました");
                    // ...
                })
                .catch((error) => {
                    window.alert("ログイン情報が間違っています")
                    const errorCode = error.code;
                    const errorMessage = error.message;
                });
            }
          </script>
        
        <div class="main-div">
            <h3>ShiftTape for Webにログイン(現在開発中です。ログインできるだけです2022/06/20現在）</h3>
            <input type="email" placeholder="メールアドレス..." id="email_field">
            <input type="password" placeholder="パスワード..." id="password_field"> 

            <!-- <button type="button" id="loginbutton">ログイン！<button> -->
            <button id="loginbutton">ログイン！</button>
            
        </div>

       
        <div class="loggedin-div">
            <h3>ようこそログイン画面へ！</h3>
            <h4>ShiftTapeのアカウント登録はShiftTapeスマホ版のみ対応しております。</h4>
        </div>
        <div class="loggedin-div">
            <h3>お知らせ</h3>
            <h4>PC向けサイトなのでスマホではレイアウトが崩れる場合があります。</h4>
        </div>
       
          
    </body>
</html>